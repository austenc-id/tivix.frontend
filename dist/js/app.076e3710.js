(function(){"use strict";var e={404:function(e,l,t){var r=t(963),a=t(252),i=t(577);function o(e,l,t,r,o,n){const s=(0,a.up)("Search"),c=(0,a.up)("Galleries");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("header",null,[(0,a._)("h1",null,(0,i.zw)(o.title),1),(0,a._)("h2",null,(0,i.zw)(o.subTitle),1)]),(0,a._)("nav",null,[(0,a._)("h3",{onClick:l[0]||(l[0]=e=>n.toggleComponent("galleries")),class:"link"},"Galleries"),(0,a._)("h3",{onClick:l[1]||(l[1]=e=>n.toggleComponent("search")),class:"link"},"Search")]),(0,a._)("main",null,[o.searchActive?((0,a.wg)(),(0,a.j4)(s,{key:0,url:o.urls.search},null,8,["url"])):(0,a.kq)("",!0),o.galleriesActive?((0,a.wg)(),(0,a.j4)(c,{key:1,galleries:o.galleries},null,8,["galleries"])):(0,a.kq)("",!0)])],64)}const n={id:"search-form"},s={onsubmit:"event.preventDefault()"},c=(0,a._)("label",{for:"query"},"Movie Title:",-1),u=(0,a._)("input",{type:"text",name:"query",id:"query"},null,-1);function h(e,l,t,r,i,o){const h=(0,a.up)("Gallery");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",n,[(0,a._)("form",s,[c,u,(0,a._)("button",{onClick:l[0]||(l[0]=e=>o.submitSearch())},"search")])]),i.activeGallery?((0,a.wg)(),(0,a.j4)(h,{key:0,gallery:i.activeGallery},null,8,["gallery"])):(0,a.kq)("",!0)],64)}const d={class:"gallery"},v=["onClick","id"],p={class:"trunc"},m=["src","alt"],g=(0,a._)("template",null,null,-1);function f(e,l,t,r,o,n){const s=(0,a.up)("Details");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",d,[(0,a._)("h2",null,(0,i.zw)(t.gallery.title),1),(0,a._)("p",null,(0,i.zw)(t.gallery.description),1),(0,a._)("section",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.gallery.movies,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"card",onClick:l=>n.showDetailedCard(e),id:e.id+"-small"},[(0,a._)("h4",p,(0,i.zw)(e.card.title),1),(0,a._)("h5",null,(0,i.zw)(e.card.year),1),"N/A"!=e.card.poster?((0,a.wg)(),(0,a.iD)("img",{key:0,src:e.card.poster,alt:e.card.title+"-poster"},null,8,m)):(0,a.kq)("",!0),(0,a._)("span",null,(0,i.zw)(e.genres),1)],8,v)))),256))]),((0,a.wg)(),(0,a.j4)(a.lR,{to:"body"},[(0,a.Wm)(s,{show:o.showModal,onClose:l[0]||(l[0]=e=>o.showModal=!1),movie:o.modalMovie},{default:(0,a.w5)((()=>[g])),_:1},8,["show","movie"])]))])])}const y={key:0,class:"modal-mask"},w={class:"modal-wrapper"},k={class:"modal-container"},_={class:"modal-footer"},b=(0,a._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",class:"bi bi-x-square",viewBox:"0 0 16 16"},[(0,a._)("path",{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"}),(0,a._)("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"})],-1),G=[b],j={class:"modal-header"},C={class:"modal-body"},D=["src","alt"];function M(e,l,t,o,n,s){return(0,a.wg)(),(0,a.j4)(r.uT,{name:"modal"},{default:(0,a.w5)((()=>[t.show?((0,a.wg)(),(0,a.iD)("div",y,[(0,a._)("div",w,[(0,a._)("div",k,[(0,a._)("div",_,[(0,a.WI)(e.$slots,"footer",{},(()=>[(0,a._)("button",{class:"modal-default-button",onClick:l[0]||(l[0]=l=>e.$emit("close"))},G)]))]),(0,a._)("div",j,[(0,a.WI)(e.$slots,"header",{},(()=>[(0,a._)("h4",null,(0,i.zw)(t.movie.card.title),1),(0,a._)("h5",null,(0,i.zw)(t.movie.card.year),1)]))]),(0,a._)("div",C,[(0,a.WI)(e.$slots,"body",{},(()=>["N/A"!=t.movie.card.poster?((0,a.wg)(),(0,a.iD)("img",{key:0,src:t.movie.card.poster,alt:t.movie.card.title+"-poster"},null,8,D)):(0,a.kq)("",!0)]))])])])])):(0,a.kq)("",!0)])),_:3})}var O={props:{show:Boolean,movie:Object}},q=t(744);const z=(0,q.Z)(O,[["render",M]]);var x=z,A={name:"Gallery",components:{Details:x},props:{gallery:Object},data(){return{url:"https://acmf-tivix.herokuapp.com/api/productions",showModal:!1,modalMovie:{}}},created(){this.fetchMovies()},methods:{showDetailedCard(e){this.modalMovie=e,this.showModal=!0},async fetchMovies(){let e=[];this.gallery.movies.forEach((l=>{fetch(`${this.url}/${l.id}`).then((e=>e.json())).then((t=>(l=t,e.push(l),e)))}))}}};const L=(0,q.Z)(A,[["render",f]]);var $=L,S={name:"Search",components:{Gallery:$},props:{url:String},created(){},mounted(){},data(){return{activeGallery:!1}},methods:{async submitSearch(){let e=document.getElementById("query").value,l=`${this.url}/${e}/10`;await fetch(l).then((e=>e.json())).then((l=>{let t={title:"Search Results",description:`from your "${e}" query`,movies:l.movies};this.activeGallery=t,console.log(this.activeGallery)}))}}};const T=(0,q.Z)(S,[["render",h]]);var H=T;const Z={id:"gallery-content"},B=["onClick"];function E(e,l,t,r,o,n){const s=(0,a.up)("Gallery");return(0,a.wg)(),(0,a.iD)("div",Z,[(0,a._)("nav",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.galleries.defaultList,(e=>((0,a.wg)(),(0,a.iD)("h4",{class:"link",onClick:l=>n.renderGallery(e)},(0,i.zw)(e.title),9,B)))),256))]),o.activeGallery?((0,a.wg)(),(0,a.j4)(s,{key:0,gallery:o.activeGallery},null,8,["gallery"])):(0,a.kq)("",!0)])}var I={name:"Galleries",components:{Gallery:$},props:{galleries:Object},created(){console.log("created  Galleries"),console.log(this.galleries)},mounted(){},data(){return{activeGallery:!1}},methods:{renderGallery(e){this.sortMovies(e)},sortMovies(e){function l(e,l){return e.card.title>l.card.title?1:e.card.title<l.card.title?-1:0}function t(e,l){return e.card.year>l.card.year?-1:e.card.year<l.card.year?1:0}e.movies.sort(l),e.movies.sort(t),this.sleep(.01).then(this.activeGallery=e)},sleep(e){let l=1e3*e;return new Promise((e=>setTimeout(e,l)))}}};const W=(0,q.Z)(I,[["render",E]]);var Y=W,P={name:"App",components:{Search:H,Galleries:Y},created(){this.fetchGalleries()},mounted(){},data(){return{title:"Movie Buff",subTitle:"Demo",galleriesActive:!1,searchActive:!1,urls:{galleries:"https://acmf-tivix.herokuapp.com/api/galleries",search:"https://acmf-tivix.herokuapp.com/search"},galleries:!1}},methods:{toggleComponent(e){"search"===e&&(this.searchActive=!this.searchActive),"galleries"===e&&(this.galleriesActive=!0)},async fetchGalleries(){await fetch(this.urls.galleries).then((e=>e.json())).then((e=>e.results)).then((e=>(this.galleries={defaultList:[],createdList:[]},e.forEach((e=>{"default"===e.type&&this.galleries.defaultList.push(e),"created"===e.type&&this.galleries.createdList.push(e)})),this.galleries))).then((e=>console.log(e)))}}};const K=(0,q.Z)(P,[["render",o]]);var N=K;const R=(0,r.ri)(N);R.mount("#app")}},l={};function t(r){var a=l[r];if(void 0!==a)return a.exports;var i=l[r]={exports:{}};return e[r](i,i.exports,t),i.exports}t.m=e,function(){var e=[];t.O=function(l,r,a,i){if(!r){var o=1/0;for(u=0;u<e.length;u++){r=e[u][0],a=e[u][1],i=e[u][2];for(var n=!0,s=0;s<r.length;s++)(!1&i||o>=i)&&Object.keys(t.O).every((function(e){return t.O[e](r[s])}))?r.splice(s--,1):(n=!1,i<o&&(o=i));if(n){e.splice(u--,1);var c=a();void 0!==c&&(l=c)}}return l}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[r,a,i]}}(),function(){t.d=function(e,l){for(var r in l)t.o(l,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:l[r]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,l){return Object.prototype.hasOwnProperty.call(e,l)}}(),function(){var e={143:0};t.O.j=function(l){return 0===e[l]};var l=function(l,r){var a,i,o=r[0],n=r[1],s=r[2],c=0;if(o.some((function(l){return 0!==e[l]}))){for(a in n)t.o(n,a)&&(t.m[a]=n[a]);if(s)var u=s(t)}for(l&&l(r);c<o.length;c++)i=o[c],t.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return t.O(u)},r=self["webpackChunkvue"]=self["webpackChunkvue"]||[];r.forEach(l.bind(null,0)),r.push=l.bind(null,r.push.bind(r))}();var r=t.O(void 0,[998],(function(){return t(404)}));r=t.O(r)})();
//# sourceMappingURL=app.076e3710.js.map