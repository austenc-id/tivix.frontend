(function(){"use strict";var e={228:function(e,t,l){var r=l(963),a=l(252),i=l(577);function n(e,t,l,r,n,o){const s=(0,a.up)("Search"),c=(0,a.up)("Galleries");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("header",null,[(0,a._)("h1",null,(0,i.zw)(n.title),1),(0,a._)("h2",null,(0,i.zw)(n.subTitle),1)]),(0,a._)("nav",null,[(0,a._)("h3",{onClick:t[0]||(t[0]=e=>o.toggleComponent("galleries")),class:"link"},"Galleries"),(0,a._)("h3",{onClick:t[1]||(t[1]=e=>o.toggleComponent("search")),class:"link"},"Search")]),(0,a._)("main",null,[n.searchActive?((0,a.wg)(),(0,a.j4)(s,{key:0,url:n.urls.search},null,8,["url"])):(0,a.kq)("",!0),n.galleriesActive?((0,a.wg)(),(0,a.j4)(c,{key:1,galleries:n.galleries},null,8,["galleries"])):(0,a.kq)("",!0)])],64)}const o={id:"search-form"},s={onsubmit:"event.preventDefault()"},c=(0,a._)("label",{for:"query"},"Movie Title:",-1),u=(0,a._)("input",{type:"text",name:"query",id:"query"},null,-1);function d(e,t,l,r,i,n){const d=(0,a.up)("Gallery");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",o,[(0,a._)("form",s,[c,u,(0,a._)("button",{onClick:t[0]||(t[0]=e=>n.submitSearch())},"search")])]),i.activeGallery?((0,a.wg)(),(0,a.j4)(d,{key:0,gallery:i.activeGallery},null,8,["gallery"])):(0,a.kq)("",!0)],64)}const h={class:"gallery"},v=["onClick","id"],p={class:"trunc"},m=["src","alt"],f=(0,a._)("template",null,null,-1);function g(e,t,l,r,n,o){const s=(0,a.up)("Details");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",h,[(0,a._)("h2",null,(0,i.zw)(l.gallery.title),1),(0,a._)("p",null,(0,i.zw)(l.gallery.description),1),(0,a._)("section",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.gallery.movies,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"card",onClick:t=>o.showDetailedCard(e),id:e.id+"-small"},[(0,a._)("h4",p,(0,i.zw)(e.card.title),1),(0,a._)("h5",null,(0,i.zw)(e.card.year),1),"N/A"!=e.card.poster?((0,a.wg)(),(0,a.iD)("img",{key:0,src:e.card.poster,alt:e.card.title+"-poster"},null,8,m)):(0,a.kq)("",!0),(0,a._)("span",null,(0,i.zw)(e.genres),1)],8,v)))),256))]),((0,a.wg)(),(0,a.j4)(a.lR,{to:"body"},[(0,a.Wm)(s,{show:n.showModal,onClose:t[0]||(t[0]=e=>n.showModal=!1),movie:n.modalMovie},{default:(0,a.w5)((()=>[f])),_:1},8,["show","movie"])]))])])}const y={key:0,class:"modal-mask"},w={class:"modal-wrapper"},k={class:"modal-container"},_={class:"modal-footer"},b=(0,a._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",class:"bi bi-x-square",viewBox:"0 0 16 16"},[(0,a._)("path",{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"}),(0,a._)("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"})],-1),G=[b],j={class:"modal-header"},C={class:"trunc"},D={class:"modal-body"},M=["src","alt"];function O(e,t,l,n,o,s){return(0,a.wg)(),(0,a.j4)(r.uT,{name:"modal"},{default:(0,a.w5)((()=>[l.show?((0,a.wg)(),(0,a.iD)("div",y,[(0,a._)("div",w,[(0,a._)("div",k,[(0,a._)("div",_,[(0,a.WI)(e.$slots,"footer",{},(()=>[(0,a._)("button",{class:"modal-default-button",onClick:t[0]||(t[0]=t=>e.$emit("close"))},G)]))]),(0,a._)("div",j,[(0,a.WI)(e.$slots,"header",{},(()=>[(0,a._)("h4",C,(0,i.zw)(l.movie.card.title),1),(0,a._)("h5",null,(0,i.zw)(l.movie.card.year),1)]))]),(0,a._)("div",D,[(0,a.WI)(e.$slots,"body",{},(()=>["N/A"!=l.movie.card.poster?((0,a.wg)(),(0,a.iD)("img",{key:0,src:l.movie.card.poster,alt:l.movie.card.title+"-poster"},null,8,M)):(0,a.kq)("",!0)]))])])])])):(0,a.kq)("",!0)])),_:3})}var q={props:{show:Boolean,movie:Object}},z=l(744);const x=(0,z.Z)(q,[["render",O]]);var A=x,L={name:"Gallery",components:{Details:A},props:{gallery:Object},data(){return{url:"https://acmf-tivix.herokuapp.com/api/productions",showModal:!1,modalMovie:{}}},created(){this.fetchMovies()},methods:{showDetailedCard(e){this.modalMovie=e,this.showModal=!0},async fetchMovies(){let e=[];this.gallery.movies.forEach((t=>{fetch(`${this.url}/${t.id}`).then((e=>e.json())).then((l=>(t=l,e.push(t),e)))}))}}};const $=(0,z.Z)(L,[["render",g]]);var S=$,T={name:"Search",components:{Gallery:S},props:{url:String},created(){},mounted(){},data(){return{activeGallery:!1}},methods:{async submitSearch(){let e=document.getElementById("query").value,t=`${this.url}/${e}/10`;await fetch(t).then((e=>e.json())).then((t=>{let l={title:"Search Results",description:`from your "${e}" query`,movies:t.movies};this.activeGallery=l}))}}};const H=(0,z.Z)(T,[["render",d]]);var Z=H;const B={id:"gallery-content"},E=["onClick"];function I(e,t,l,r,n,o){const s=(0,a.up)("Gallery");return(0,a.wg)(),(0,a.iD)("div",B,[(0,a._)("nav",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.galleries.defaultList,(e=>((0,a.wg)(),(0,a.iD)("h4",{class:"link",onClick:t=>o.renderGallery(e)},(0,i.zw)(e.title),9,E)))),256))]),n.activeGallery?((0,a.wg)(),(0,a.j4)(s,{key:0,gallery:n.activeGallery},null,8,["gallery"])):(0,a.kq)("",!0)])}var W={name:"Galleries",components:{Gallery:S},props:{galleries:Object},created(){},mounted(){},data(){return{activeGallery:!1}},methods:{renderGallery(e){this.sortMovies(e)},sortMovies(e){function t(e,t){return e.card.title>t.card.title?1:e.card.title<t.card.title?-1:0}function l(e,t){return e.card.year>t.card.year?-1:e.card.year<t.card.year?1:0}e.movies.sort(t),e.movies.sort(l),this.sleep(.01).then(this.activeGallery=e)},sleep(e){let t=1e3*e;return new Promise((e=>setTimeout(e,t)))}}};const Y=(0,z.Z)(W,[["render",I]]);var P=Y,K={name:"App",components:{Search:Z,Galleries:P},created(){this.fetchGalleries()},mounted(){},data(){return{title:"Movie Buff",subTitle:"Demo",galleriesActive:!1,searchActive:!1,urls:{galleries:"https://acmf-tivix.herokuapp.com/api/galleries",search:"https://acmf-tivix.herokuapp.com/search"},galleries:!1}},methods:{toggleComponent(e){"search"===e&&(this.searchActive=!this.searchActive),"galleries"===e&&(this.galleriesActive=!0)},async fetchGalleries(){await fetch(this.urls.galleries).then((e=>e.json())).then((e=>e.results)).then((e=>(this.galleries={defaultList:[],createdList:[]},e.forEach((e=>{"default"===e.type&&this.galleries.defaultList.push(e),"created"===e.type&&this.galleries.createdList.push(e)})),this.galleries)))}}};const N=(0,z.Z)(K,[["render",n]]);var R=N;const V=(0,r.ri)(R);V.mount("#app")}},t={};function l(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,l),i.exports}l.m=e,function(){var e=[];l.O=function(t,r,a,i){if(!r){var n=1/0;for(u=0;u<e.length;u++){r=e[u][0],a=e[u][1],i=e[u][2];for(var o=!0,s=0;s<r.length;s++)(!1&i||n>=i)&&Object.keys(l.O).every((function(e){return l.O[e](r[s])}))?r.splice(s--,1):(o=!1,i<n&&(n=i));if(o){e.splice(u--,1);var c=a();void 0!==c&&(t=c)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[r,a,i]}}(),function(){l.d=function(e,t){for(var r in t)l.o(t,r)&&!l.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};l.O.j=function(t){return 0===e[t]};var t=function(t,r){var a,i,n=r[0],o=r[1],s=r[2],c=0;if(n.some((function(t){return 0!==e[t]}))){for(a in o)l.o(o,a)&&(l.m[a]=o[a]);if(s)var u=s(l)}for(t&&t(r);c<n.length;c++)i=n[c],l.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return l.O(u)},r=self["webpackChunkvue"]=self["webpackChunkvue"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=l.O(void 0,[998],(function(){return l(228)}));r=l.O(r)})();
//# sourceMappingURL=app.fac26176.js.map